<html>
<meta name="author" content="Chai Wah Wu">
<!-- Simple JavaScript calculator for cashiers at flea markets, bake sales, or other mobile sales.
     written by Chai Wah Wu, September 2017 -->

<head>
  <title>Cashier's helper</title>
  <script language='JavaScript'>
  
	
function currencyRound(x) {
	return (Math.round(x*Math.pow(10,2))/Math.pow(10,2)).toFixed(2);
}
	
function AddTicket(dig,type)
{
	NumTicket[type] += dig;
	if (NumTicket[type] < 0) {
		NumTicket[type] = 0;
	}
	TicketTotal[type] = NumTicket[type]*TicketPrice[type];	
	Total = 0;
	for (var i = 0; i < TicketType; i++){
		Total += TicketTotal[i];}
	document.CashierHelperCalculator.TotalDisplay.value = currencyRound(Total);
	document.getElementById('tickettotal'+type.toString()).value = currencyRound(TicketTotal[type]);
	document.getElementById('ticket'+type.toString()).value = NumTicket[type];
	ProcessTransaction()
}

function SetTicket(dig,type)
{
	NumTicket[type] = dig;
	if (NumTicket[type] < 0) {
		NumTicket[type] = 0;
	}
	TicketTotal[type] = NumTicket[type]*TicketPrice[type];	
	Total = 0;
	for (var i = 0; i < TicketType; i++){
		Total += TicketTotal[i];
		}
	document.CashierHelperCalculator.TotalDisplay.value = currencyRound(Total);
	document.getElementById('tickettotal'+type.toString()).value = currencyRound(TicketTotal[type]);
	document.getElementById('ticket'+type.toString()).value = NumTicket[type];
	ProcessTransaction()
}



<!--------------------------------------------------------------------
	var TicketType = 4;
	TicketTotal = new Array(TicketType);
	NumTicket = new Array(TicketType);
	for (var i = 0; i < TicketType; i++){
		TicketTotal[i] = 0;
		NumTicket[i] = 0;
		}
	Total  = 0;  
	MoneyReceived = 0;
	ChangeReturned = 0;
	
  //--------------------------------------------------------------->
    // initial prices 
	TicketPrice = [8,6,5,2];


function ClearFields() {
	for (var i = 0; i < TicketType; i++){
		TicketTotal[i] = 0;
		NumTicket[i] = 0;
		}
	Total  = 0;  
	MoneyReceived = 0;
	ChangeReturned = 0;
	for (var i = 0; i < TicketType; i++){
		SetTicket(0,i);}
	document.getElementById("moneyreceived").value = 0;
	document.getElementById("changereturned").value = "0.00";
}

function ProcessTransaction() {
	MoneyReceived = parseInt(document.getElementById("moneyreceived").value);
	ChangeReturned = MoneyReceived - Total;
	document.getElementById("changereturned").value = currencyRound(ChangeReturned);
	}
	
function ClearMoney() {
	MoneyReceived = 0;
	document.getElementById("moneyreceived").value = MoneyReceived;
	ChangeReturned = MoneyReceived - Total;
	document.getElementById("changereturned").value = currencyRound(ChangeReturned);
	}
	
function AddMoney(m) {
	MoneyReceived = MoneyReceived+m;
	document.getElementById("moneyreceived").value = MoneyReceived;
	ChangeReturned = MoneyReceived - Total;
	document.getElementById("changereturned").value = currencyRound(ChangeReturned);
	}
	
</script>
</head>

<FORM name="CashierHelperCalculator">
 <table border="6"> 
  <tr>   
    <td colspan="1" style="font-size:90px;"> <font color="blue">Total $</font>
      <input type="text" style="font-size:90px;" maxlength="6" size="7" name="TotalDisplay"  value = 0.00 readonly = "true">
    </td>
  </tr> 
  <tr>
    <td> 
      <table>
	  <tr> <span  style="font-size:50px;">Adult ticket:</span> </tr> 
	  <tr> <input style="font-size:50px;" type="text" maxlength="3" size="4" name="TicketDisplay0" id = "ticket0" readonly = "true"></tr> <tr> <span  style="font-size:40px;">  $</span></tr>
       <tr>
       <tr>
	   <input style="font-size:50px;" type="text" maxlength="5" size="7" name="TicketTotalDisplay0" id = "tickettotal0" value = 0.00 readonly = "true">
         <td><input style="font-size:40px;height:60px;width:110px" type="button" value="+" OnClick="AddTicket(1,0)"></td>
		 <td><input style="font-size:40px;height:60px;width:110px" type="button" value="-" OnClick="AddTicket(-1,0)"></td>
		 <td><input style="font-size:40px;height:60px;width:110px" type="button" value="1" OnClick="SetTicket(1,0)"></td>
		 <td><input style="font-size:40px;height:60px;width:110px" type="button" value="2" OnClick="SetTicket(2,0)"></td>
		 <td><input style="font-size:40px;height:60px;width:110px" type="button" value="3" OnClick="SetTicket(3,0)"></td>
		 <td><input style="font-size:40px;height:60px;width:110px" type="button" value="4" OnClick="SetTicket(4,0)"></td>
		 <td><input style="font-size:40px;height:60px;width:110px" type="button" value="5" OnClick="SetTicket(5,0)"></td>
		 <td><input style="font-size:40px;height:60px;width:110px" type="button" value="6" OnClick="SetTicket(6,0)"></td>
	   </tr>
      </table>
	 </td>
	</tr>
	<tr>
    <td> 
      <table>
	  <tr> <span  style="font-size:50px;">Senior or Student:</span> </tr> 
	  <tr> <input style="font-size:50px;" type="text" maxlength="3" size="4" name="TicketDisplay1" id = "ticket1" readonly = "true"></tr> <tr> <span  style="font-size:40px;">  $</span></tr>
       <tr>
       <tr>
	   <input style="font-size:50px;" type="text" maxlength="5" size="7" name="TicketTotalDisplay1" id = "tickettotal1" value = 0.00 readonly = "true">
         <td><input style="font-size:40px;height:60px;width:110px" type="button" value="+" OnClick="AddTicket(1,1)"></td>
		 <td><input style="font-size:40px;height:60px;width:110px" type="button" value="-" OnClick="AddTicket(-1,1)"></td>
		 <td><input style="font-size:40px;height:60px;width:110px" type="button" value="1" OnClick="SetTicket(1,1)"></td>
		 <td><input style="font-size:40px;height:60px;width:110px" type="button" value="2" OnClick="SetTicket(2,1)"></td>
		 <td><input style="font-size:40px;height:60px;width:110px" type="button" value="3" OnClick="SetTicket(3,1)"></td>
		 <td><input style="font-size:40px;height:60px;width:110px" type="button" value="4" OnClick="SetTicket(4,1)"></td>
		 <td><input style="font-size:40px;height:60px;width:110px" type="button" value="5" OnClick="SetTicket(5,1)"></td>
		 <td><input style="font-size:40px;height:60px;width:110px" type="button" value="6" OnClick="SetTicket(6,1)"></td>
	   </tr>
      </table>
	 </td>
	</tr>
	<tr>
    <td> 
      <table>
	  <tr> <span  style="font-size:50px;">Senior-Gold Card:</span> </tr> 
	  <tr> <input style="font-size:50px;" type="text" maxlength="3" size="4" name="TicketDisplay2" id = "ticket2" readonly = "true"></tr> <tr> <span  style="font-size:40px;">  $</span></tr>
       <tr>
       <tr>
	   <input style="font-size:50px;" type="text" maxlength="5" size="7" name="TicketTotalDisplay2" id = "tickettotal2" value = 0.00 readonly = "true">
         <td><input style="font-size:40px;height:60px;width:110px" type="button" value="+" OnClick="AddTicket(1,2)"></td>
		 <td><input style="font-size:40px;height:60px;width:110px" type="button" value="-" OnClick="AddTicket(-1,2)"></td>
		 <td><input style="font-size:40px;height:60px;width:110px" type="button" value="1" OnClick="SetTicket(1,2)"></td>
		 <td><input style="font-size:40px;height:60px;width:110px" type="button" value="2" OnClick="SetTicket(2,2)"></td>
		 <td><input style="font-size:40px;height:60px;width:110px" type="button" value="3" OnClick="SetTicket(3,2)"></td>
		 <td><input style="font-size:40px;height:60px;width:110px" type="button" value="4" OnClick="SetTicket(4,2)"></td>
		 <td><input style="font-size:40px;height:60px;width:110px" type="button" value="5" OnClick="SetTicket(5,2)"></td>
		 <td><input style="font-size:40px;height:60px;width:110px" type="button" value="6" OnClick="SetTicket(6,2)"></td>
	   </tr>
      </table>
	 </td>
	</tr><tr>
    <td> 
      <table>
	  <tr> <span  style="font-size:50px;">Program booklet:</span> </tr> 
	  <tr> <input style="font-size:50px;" type="text" maxlength="3" size="4" name="TicketDisplay3" id = "ticket3" readonly = "true"></tr> <tr> <span  style="font-size:40px;">  $</span></tr>
       <tr>
       <tr>
	   <input style="font-size:50px;" type="text" maxlength="5" size="7" name="TicketTotalDisplay3" id = "tickettotal3" value = 0.00 readonly = "true">
         <td><input style="font-size:40px;height:60px;width:110px" type="button" value="+" OnClick="AddTicket(1,3)"></td>
		 <td><input style="font-size:40px;height:60px;width:110px" type="button" value="-" OnClick="AddTicket(-1,3)"></td>
		 <td><input style="font-size:40px;height:60px;width:110px" type="button" value="1" OnClick="SetTicket(1,3)"></td>
		 <td><input style="font-size:40px;height:60px;width:110px" type="button" value="2" OnClick="SetTicket(2,3)"></td>
		 <td><input style="font-size:40px;height:60px;width:110px" type="button" value="3" OnClick="SetTicket(3,3)"></td>
		 <td><input style="font-size:40px;height:60px;width:110px" type="button" value="4" OnClick="SetTicket(4,3)"></td>
		 <td><input style="font-size:40px;height:60px;width:110px" type="button" value="5" OnClick="SetTicket(5,3)"></td>
		 <td><input style="font-size:40px;height:60px;width:110px" type="button" value="6" OnClick="SetTicket(6,3)"></td>
	   </tr>
      </table>
	 </td>
	</tr>
	
  
  </table>
  
  <table border="6">  
  <tr>
  <td>
  <table>
  <tr>    
		<span  style="font-size:90px;"> <font color="purple">Cash $ </font></span>
      <input type="text" style="font-size:90px;" maxlength="6" size="7" id="moneyreceived" onkeyup = "ProcessTransaction()" value = 0 >
    
  </tr>  
<tr>
         <td><input style="font-size:40px;height:60px;width:180px" type="button" value="Clear" OnClick="ClearMoney()"></td>
		 <td><input style="font-size:40px;height:60px;width:140px" type="button" value="+1" OnClick="AddMoney(1)"></td>
		 <td><input style="font-size:40px;height:60px;width:140px" type="button" value="+5" OnClick="AddMoney(5)"></td>
		 <td><input style="font-size:40px;height:60px;width:140px" type="button" value="+10" OnClick="AddMoney(10)"></td>
		 <td><input style="font-size:40px;height:60px;width:140px" type="button" value="+20" OnClick="AddMoney(20)"></td>
		 <td><input style="font-size:40px;height:60px;width:140px" type="button" value="+100" OnClick="AddMoney(100)"></td>
	   </tr>  
  </table>
  </td></tr>
  <tr>   
    <td colspan="1" style="font-size:90px;"> <font color="red">Change $</font>
      <input type="text" style="font-size:90px;" maxlength="6" size="7" id="changereturned" value = 0.00 readonly = "true">
    </td>
  </tr>  
  
  </table>
  
</FORM>
<p><input style="font-size:40px;height:60px;width:320px" type="button" value="CLEAR ALL" OnClick="ClearFields()"></p>

